---
title: Onboarding Dialog
description: A configurable multi-step onboarding dialog that guides users through AGW authentication steps with progress indication.
---

import { Steps, Step } from "@/components/ui/steps"

<ComponentPreview name="onboarding-dialog" />

## Installation

The onboarding dialog has three optional phases. Install the components you need:

<Steps className="mt-8">
  <Step step={1} title="Required: Install the base onboarding dialog">
  ```bash
  npx shadcn@latest add "https://agw-reusables.vercel.app/r/onboarding-dialog.json"
  ```
  </Step>

  <Step step={2} title="Required: Add the onboarding dialog to your layout">

Add the `<Onboarder />` component to your `app/layout.tsx`:

```tsx title="app/layout.tsx" showLineNumbers {2, 10}
import { NextAbstractWalletProvider } from "@/components/agw-provider";
import { Onboarder } from "@/components/onboarding-dialog";

export default function RootLayout({ children }: { children: React.ReactNode }) {
  return (
    <html lang="en">
      <NextAbstractWalletProvider>
        <body>
          {children}
          <Onboarder />
        </body>
      </NextAbstractWalletProvider>
    </html>
  );
}
```
  </Step>
</Steps>


## Usage

Use the `useOnboarding()` hook to gate actions behind onboarding requirements:

```tsx
"use client"

import { Button } from "@/components/ui/button"
import { useOnboarding } from "@/hooks/use-onboarding"

export default function MyComponent() {
  const { ready, require } = useOnboarding({
    connectWallet: true,
    signWithEthereum: true,
    createSessionKey: true,
  })

  const handleProtectedAction = () => {
    // This shows the dialog if not ready, returns false to cancel execution
    if (!require()) return
    
    // This code only runs if user is fully onboarded
    console.log("Action executed!")
  }

  return (
    <Button onClick={handleProtectedAction}>
      {ready ? "Execute Action" : "Complete Onboarding First"}
    </Button>
  )
}
```

### Step Configuration

Configure which onboarding steps are required:

```tsx
// Just wallet connection
const { ready, require } = useOnboarding({
  connectWallet: true,
})

// Wallet + SIWE authentication  
const { ready, require } = useOnboarding({
  connectWallet: true,
  signWithEthereum: true,
})

// Full onboarding (all steps)
const { ready, require } = useOnboarding({
  connectWallet: true,
  signWithEthereum: true,
  createSessionKey: true,
})
```

### Hook API

The `useOnboarding()` hook returns the following:

- `ready: boolean` - True when all required steps are completed
- `pending: boolean` - True when the onboarding dialog is currently open
- `require(): boolean` - Shows dialog if not ready, returns `true` if ready (use for early returns)
- `showDialog(): void` - Manually show the onboarding dialog

### Advanced Usage

#### Manual Dialog Control

Use `showDialog()` to manually trigger the onboarding dialog:

```tsx
const { ready, showDialog } = useOnboarding({
  connectWallet: true,
  signWithEthereum: true,
})

return (
  <div>
    <p>Status: {ready ? "Ready" : "Not Ready"}</p>
    <Button onClick={showDialog}>
      Show Onboarding
    </Button>
  </div>
)
```

#### Reactive UI Based on Status

Use the `ready` and `pending` flags to create reactive interfaces:

```tsx
const { ready, pending, require } = useOnboarding({
  connectWallet: true,
  signWithEthereum: true,
  createSessionKey: true,
})

return (
  <Button
    onClick={() => {
      if (!require()) return
      performAction()
    }}
    disabled={pending}
    variant={ready ? "default" : "secondary"}
  >
    {pending ? "Onboarding..." : ready ? "Execute Action" : "Setup Required"}
  </Button>
)
```

